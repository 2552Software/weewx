--------------------  TODO for V3  --------------------------- 

Quick start guide

Strategy for extending units.

Move schemas to the extension that uses them.

May need to update the guide on packaging an extension.

Should the archive file be backed up before adding the daily summaries?

Update the forecast service




 ---- DONE ----

Update setup.py
 -- Rework deb installer to work with device snippets
 -- Give each driver option to modify driver stanza while updating weewx.conf
 -- the --configure option should modify station_type if successful
(15nov14 mwall)
              
Update setup.py.
  -- Add configure keyword, with option --device=
  setup.py --configure [--driver=weewx.drivers.simulator]
(14nov14 mwall)

Update skins: exfoliation amphibian simple
Update drivers: owfs link fileparse
Update services: cmon crt cwxn
Put fileparse driver into extensions directory as driver example
(14nov14 mwall)

Check existing extensions: basic xstats
(13nov14 mwall)

Update services to use new database
cmon pmon
(13nov14 mwall)

Update setup.py.
  -- General update strategy for weewx.conf
     (11/13/14 by tk)
     
Update uploader extensions to use new database.
emoncms mqtt owm seg thingspeak twitter wbug wcloud wetter windfinder xively
(11/12/14 by Matthew)

Update Upgrading Guide.
 - explain how to migrate data from a v2 database to a v3 database
 - Changes in search list extensions
 
Verify that examples still work:
  alarm.py 
  lowBattery.py
  xsearch.py
(11/10/14. All are OK. I checked/updated them when updating the docs)

The table name is explicitly specified in the uploader database queries. E.g.,
  "SELECT SUM(rain), MIN(usUnits), MAX(usUnits) FROM archive WHERE dateTime>=? AND dateTime<=?"
Does this matter?
(11/11/14. Now substitutes the table name into the query string)

On startup, the log should indicate not only which binding is in use, but what
it is bound to (sqlite or mysql).

Both tables archive_day_windSpeed and archive_day_wind exist. 
[11/11/14. Both now get updated. $day.wind.max and $day.windSpeed.max return the same thing]

I removed Appendix: Statistical types because it is no longer valid. But,
it needs to be explained somewhere the difference between vector and scalar
stats.
[11/11/14. Added a section "Winds" to the Customizing Guide, explaining the differences.]









--------------------  Nice to do someday  --------------------------- 

Look at Gary's (?) changes to allow cron-like report generation.

Is max gap fraction meaningful for bar charts now?

Guard against database locks:

Jul 30 08:55:22 hummingbird weewx[959]: wxengine: Caught unrecoverable exception in wxengine:
Jul 30 08:55:22 hummingbird weewx[959]:     ****  database is locked
Jul 30 08:55:22 hummingbird weewx[959]:     ****  Traceback (most recent call last):
Jul 30 08:55:22 hummingbird weewx[959]:     ****    File "/home/weewx/bin/weewx/wxengine.py", line 962, in main
Jul 30 08:55:22 hummingbird weewx[959]:     ****      engine.run()
Jul 30 08:55:22 hummingbird weewx[959]:     ****    File "/home/weewx/bin/weewx/wxengine.py", line 189, in run
Jul 30 08:55:22 hummingbird weewx[959]:     ****      self.dispatchEvent(weewx.Event(weewx.POST_LOOP))
Jul 30 08:55:22 hummingbird weewx[959]:     ****    File "/home/weewx/bin/weewx/wxengine.py", line 210, in dispatchEvent
Jul 30 08:55:22 hummingbird weewx[959]:     ****      callback(event)
Jul 30 08:55:22 hummingbird weewx[959]:     ****    File "/home/weewx/bin/weewx/wxengine.py", line 562, in post_loop
Jul 30 08:55:22 hummingbird weewx[959]:     ****      self._catchup(self.engine.console.genArchiveRecords)
Jul 30 08:55:22 hummingbird weewx[959]:     ****    File "/home/weewx/bin/weewx/wxengine.py", line 625, in _catchup
Jul 30 08:55:22 hummingbird weewx[959]:     ****      origin='hardware'))
Jul 30 08:55:22 hummingbird weewx[959]:     ****    File "/home/weewx/bin/weewx/wxengine.py", line 210, in dispatchEvent
Jul 30 08:55:22 hummingbird weewx[959]:     ****      callback(event)
Jul 30 08:55:22 hummingbird weewx[959]:     ****    File "/home/weewx/bin/weewx/wxengine.py", line 574, in new_archive_record
Jul 30 08:55:22 hummingbird weewx[959]:     ****      self.archive.addRecord(event.record)
Jul 30 08:55:22 hummingbird weewx[959]:     ****    File "/home/weewx/bin/weewx/archive.py", line 192, in addRecord
Jul 30 08:55:22 hummingbird weewx[959]:     ****      e))
Jul 30 08:55:22 hummingbird weewx[959]:     ****    File "/home/weewx/bin/weedb/__init__.py", line 130, in __exit__
Jul 30 08:55:22 hummingbird weewx[959]:     ****      self.connection.commit()
Jul 30 08:55:22 hummingbird weewx[959]:     ****    File "/home/weewx/bin/weedb/__init__.py", line 97, in commit
Jul 30 08:55:22 hummingbird weewx[959]:     ****      self.connection.commit()
Jul 30 08:55:22 hummingbird weewx[959]:     ****  OperationalError: database is locked
Jul 30 08:55:22 hummingbird weewx[959]:     ****  Exiting.
